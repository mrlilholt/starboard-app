{"ast":null,"code":"import{signInWithPopup}from'firebase/auth';import{auth,provider}from'../firebase/firebase';import{useNavigate}from'react-router-dom';import{getFirestore,doc,setDoc,getDoc}from'firebase/firestore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const db=getFirestore();function LoginPage(){const navigate=useNavigate();const handleLogin=async()=>{try{const result=await signInWithPopup(auth,provider);const user=result.user;// Check if user exists in Firestore\nconst userRef=doc(db,'users',user.uid);const docSnap=await getDoc(userRef);if(!docSnap.exists()){// Create a new user if not found\nawait setDoc(userRef,{displayName:user.displayName,email:user.email,role:'parent',photoURL:user.photoURL,uid:user.uid});}alert(\"Welcome, \".concat(user.displayName,\"!\"));navigate('/dashboard');// Redirect after successful login\n}catch(error){console.error('Login Failed:',error.message);alert('Failed to sign in. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"img\",{src:\"/STARBOARD.gif\",alt:\"Starboard Logo\",style:styles.logo}),/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Starboard!\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.tagline,children:\"Rank your kids like an Uber Driver!\"}),/*#__PURE__*/_jsxs(\"button\",{style:styles.button,onClick:handleLogin,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/color/20/000000/google-logo.png\",alt:\"Google logo\",style:styles.googleIcon}),\"Login with Google\"]})]});}// Basic CSS-in-JS for quick styling\nconst styles={container:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'100vh',textAlign:'center'},logo:{width:'300px',marginBottom:'20px'},tagline:{fontSize:'1.2rem',color:'#555',marginBottom:'30px',fontWeight:'400'},button:{display:'flex',alignItems:'center',gap:'10px',padding:'12px 24px',fontSize:'1rem',cursor:'pointer',backgroundColor:'#4285F4',color:'white',border:'none',borderRadius:'8px',transition:'background-color 0.3s ease'},googleIcon:{width:'20px',height:'20px'}};export default LoginPage;","map":{"version":3,"names":["signInWithPopup","auth","provider","useNavigate","getFirestore","doc","setDoc","getDoc","jsx","_jsx","jsxs","_jsxs","db","LoginPage","navigate","handleLogin","result","user","userRef","uid","docSnap","exists","displayName","email","role","photoURL","alert","concat","error","console","message","style","styles","container","children","src","alt","logo","tagline","button","onClick","googleIcon","display","flexDirection","alignItems","justifyContent","height","textAlign","width","marginBottom","fontSize","color","fontWeight","gap","padding","cursor","backgroundColor","border","borderRadius","transition"],"sources":["/Users/alilholt/starboard-app/src/pages/LoginPage.js"],"sourcesContent":["import { signInWithPopup } from 'firebase/auth';\nimport { auth, provider } from '../firebase/firebase';\nimport { useNavigate } from 'react-router-dom';\nimport { getFirestore, doc, setDoc, getDoc } from 'firebase/firestore';\n\nconst db = getFirestore();\n\nfunction LoginPage() {\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    try {\n      const result = await signInWithPopup(auth, provider);\n      const user = result.user;\n\n      // Check if user exists in Firestore\n      const userRef = doc(db, 'users', user.uid);\n      const docSnap = await getDoc(userRef);\n\n      if (!docSnap.exists()) {\n        // Create a new user if not found\n        await setDoc(userRef, {\n          displayName: user.displayName,\n          email: user.email,\n          role: 'parent',\n          photoURL: user.photoURL,\n          uid: user.uid\n        });\n      }\n\n      alert(`Welcome, ${user.displayName}!`);\n      navigate('/dashboard');  // Redirect after successful login\n    } catch (error) {\n      console.error('Login Failed:', error.message);\n      alert('Failed to sign in. Please try again.');\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <img src=\"/STARBOARD.gif\" alt=\"Starboard Logo\" style={styles.logo} />\n      <h1>Welcome to Starboard!</h1>\n      <p style={styles.tagline}>Rank your kids like an Uber Driver!</p>\n      \n      <button style={styles.button} onClick={handleLogin}>\n        <img \n          src=\"https://img.icons8.com/color/20/000000/google-logo.png\" \n          alt=\"Google logo\" \n          style={styles.googleIcon} \n        />\n        Login with Google\n      </button>\n    </div>\n  );\n}\n\n// Basic CSS-in-JS for quick styling\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100vh',\n    textAlign: 'center'\n  },\n  logo: {\n    width: '300px',\n    marginBottom: '20px'\n  },\n  tagline: {\n    fontSize: '1.2rem',\n    color: '#555',\n    marginBottom: '30px',\n    fontWeight: '400'\n  },\n  button: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '10px',\n    padding: '12px 24px',\n    fontSize: '1rem',\n    cursor: 'pointer',\n    backgroundColor: '#4285F4',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    transition: 'background-color 0.3s ease'\n  },\n  googleIcon: {\n    width: '20px',\n    height: '20px'\n  }\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}